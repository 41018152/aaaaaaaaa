<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥ç¦</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f9f9f9;
        }

        #card {
            position: relative;
            display: inline-block;
            padding: 20px;
            border: 1px solid #ddd;
            background-color: rgba(255, 255, 255, 0.8);
        }

        #bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.5;
            z-index: -1;
        }

        table {
            margin: 20px auto;
            border-collapse: collapse;
            width: 80%;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
            color: #333;
        }

        tr:hover {
            background-color: #f1f1f1;
        }

        .btn-container {
            margin: 20px;
        }

        .btn {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            background-color: #4CAF50;
            color: white;
            border-radius: 5px;
        }
    </style>
</head>

<body>

    <h1>ç¥ç¦</h1>
    <button class="btn" id="play-btn" onclick="playAudio()">é»æˆ‘</button>

    <div id="card">
        <img id="bg" src="2.png" alt="èƒŒæ™¯" />
        <table>
            <tr>
                <th>æˆ‘å€‘æƒ³å°å¦³èªªçš„è©±</th>
                <th>ç•™è¨€äºº</th>
            </tr>
            <tr>
                <td>ç¥å¦³æ‰¾åˆ°ä¸€å€‹å¯ä»¥ç–¼å¦³çš„å¦‚æ„éƒå› æ°¸é é’æ˜¥ç¾éº— ç”Ÿæ—¥å¿«æ¨‚</td>
                <td>é“é“è¶</td>
            </tr>
            <tr>
                <td>Hey sweetheart, é›–ç„¶æ²’æœ‰èªè­˜å¦³å¾ˆä¹…..ä½†é€™æ®µæ™‚é–“å¾ˆé–‹å¿ƒè·Ÿå¦³ä¸€èµ·å’Œå¤§å®¶ç©éŠæˆ²è·Ÿæ‰“æ‰“é¬§é¬§ï¼Œåœ¨é€™å€‹ç‰¹åˆ¥çš„æ—¥å­è£¡ç¥å¦³ç”Ÿæ—¥å¿«æ¨‚ğŸ‚ Happy birthday ğŸğŸ˜˜</td>
                <td>ä¼Šä¼Šé¢¨</td>
            </tr>
            <tr>
                <td>å¸Œæœ›å¦³èº«é«”å¥åº· é’æ˜¥ç¾éº— å­¸æ¥­é€²æ­¥ ç„¶å¾Œé¢¨ä¹‹åœ‹åº¦å¯ä»¥ç©å¾—æ›´å¥½</td>
                <td>å¸¥å¸¥é›·</td>
            </tr>
            <tr>
                <td>ç¥å¦³ç”Ÿæ—¥å¿«æ¨‚ æ°¸é ç¾éº— èº«é«”å¥åº· ç¾éº—çš„ç¬‘å¤§å§Šå§Š~~ ç­‰ä½ è®Šå¼·ç„¶å¾Œå¸¶æˆ‘é£› å•¾~</td>
                <td>å¯æ„›ç‹¼</td>
            </tr>
        </table>
    </div>

    <div class="btn-container">
        <button class="btn" onclick="captureCard()">æˆªåœ–ä¿å­˜</button>
    </div>

    <audio id="background-audio" src="éŸ³.mp3" type="audio/mpeg"></audio>

    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script>
        function playAudio() {
            const audioElement = document.getElementById('background-audio');
            const playBtn = document.getElementById('play-btn');

            playBtn.style.display = 'none';
            audioElement.controls = false;

            // å„²å­˜åˆå§‹éŸ³è¨Šæº
            const originalSrc = audioElement.src;

            // å˜—è©¦æ’­æ”¾éŸ³è¨Š
            audioElement.play().catch(() => {
                // å¦‚æœéŸ³.mp3 æ’­æ”¾å¤±æ•—ï¼Œå˜—è©¦éŸ³.ogg
                if (audioElement.src !== originalSrc.replace('.mp3', '.ogg')) {
                    audioElement.src = originalSrc.replace('.mp3', '.ogg');
                    audioElement.play().catch((error) => {
                        console.error("éŸ³è¨Šæ’­æ”¾å¤±æ•—:", error);
                    });
                }
            });
        }

        function captureCard() {
            const cardElement = document.getElementById('card');
            const bgImage = document.getElementById('bg');

            // ç¢ºä¿èƒŒæ™¯åœ–ç‰‡åŠ è¼‰å®Œæˆå¾Œå†é€²è¡Œæˆªåœ–
            bgImage.onload = () => {
                html2canvas(cardElement).then(canvas => {
                    let link = document.createElement('a');
                    link.download = 'ç¥ç¦è³€å¡.png';
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                });
            };

            // å¦‚æœåœ–ç‰‡å·²ç¶“åŠ è¼‰å®Œæˆï¼Œå‰‡ç›´æ¥é€²è¡Œæˆªåœ–
            if (bgImage.complete) {
                html2canvas(cardElement).then(canvas => {
                    let link = document.createElement('a');
                    link.download = 'ç¥ç¦è³€å¡.png';
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                });
            }
        }
    </script>

</body>

</html>